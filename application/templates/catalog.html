{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>modatel | главная</title>
    <link rel="icon" href="{% static '/img/logo.png' %}" type="image/icon type">

    <!-- css -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- animation alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- slider -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!--- <link href="../static/css/tailwind.css" rel="stylesheet"> -->

    <!-- start connect FONTS section -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@100&family=Roboto:wght@100&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Moonrocks&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jacques+Francois+Shadow&display=swap" rel="stylesheet">
    <!--  end connect FONTS section  -->

    <!-- start settings TCHNO section -->
    <script>
        tailwind.config = {
          theme: {
            extend: {
                spacing: {
                    '102': '25.5rem',
                    '108': '27rem',
                    '120': '30rem',
                    '136': '34rem',
                    '144': '36rem',
                    '160': '40rem',
                    '176': '44rem',
                    '196': '48rem',
                    '252': '63rem',
                    '340': '85rem',
                    '102px': '408px',
                    '108px': '432px',
                    '120px': '480px',
                    '136px': '544px',
                    '144px': '576px',
                    '160px': '640px',
                    '176px': '704px',
                    '196px': '768px',
                    '252px': '1008px',
                    '340px': '1360px',

                }
            },
            screens: {
                'sm': '660px',
                'md': '768px',
                'lg': '1050px',
                'xl': '1280px',
                '2xl': '1536px',
                '3xl': '1970px',
                '4xl': '2100px',
                '5xl': '2220px',
            },
          }
        }
    </script>
    <!--  end settings TCHNO section  -->

    <link rel="stylesheet" type="text/css" href="{% static '/css/style.css' %}">

</head>
<body style="overflow-x: hidden;" x-data="{ filterCategory_: false, filterMaterial_: false, filterPrice_: false, filterSize_: false, filterColor_: false, infPanelNew: window.innerWidth >= 760, darkBG: false}">
    {% block header %}
        {% include 'blocks/header.html' %}
    {% endblock %}
    <img id="rightABSblock" class="absolute w-[320px] sm:w-120px lg:w-144px 3xl:w-160px 4xl:w-176px 5xl:w-196px right-[8px] -mt-24  mr-[0px] md:mr-[32px] lg:mr-[64px] 3xl:mr-[112px] 4xl:mr-[144px] 5xl:mr-[256px]" src="{% static '/img/temporaryStorage/spot_2.png' %}" alt="">
    <img id="REFrightABSblock" class="TransporentClass absolute opacity-0 w-[320px] sm:w-120px lg:w-144px 3xl:w-160px 4xl:w-176px 5xl:w-196px left-0" src="{% static '/img/temporaryStorage/spot_2.png' %}" alt="">
    <section class="relative z-10 flex flex-col w-full md:px-16 xl:px-32 2xl:px-64 4xl:px-96 5xl:px-120 sm:mt-4 md:mt-6 4xl:mt-10"> 
        <div class="w-full h-auto pt-4 pb-0 3xl:pb-2 px-2 sm:px-6" style="box-shadow: 0px 0px 18.3px -4px rgba(0, 0, 0, 0.25);">
            <div class="text-2xl" style="font-family: 'Roboto Mono', monospace;">PROMOTION</div>
            <div class="w-full mt-2 swiper PromotionSwiper">
                <div class="swiper-wrapper mb-0 xl:mb-5">
                    {% for item in promoNews %}
                    <div class="swiper-slide">
                        <a class="flex flex-col group" href="">
                            <div class="w-full h-36 lg:h-44 3xl:h-64 bg-[url('{{item.image.url}}')] bg-[length:100%] bg-center group-hover:bg-[length:85%] transition-all duration-200 ease-in-out"></div>
                            <div class="opacity-30 mt-3 text-xl font-medium tracking-[.25em]">{{item.subtheme}}</div>
                            <div id="moving-text-container-{{item.id|safe}}" class="w-full h-12 relative -mt-2 text-xl lg:text-2xl font-black tracking-widest overflow-hidden" style="font-family: 'Roboto Mono', monospace;">
                                <div id="moving-text-{{item.id|safe}}" class="w-min" style="white-space: nowrap;">{{item.name}}</div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
                <div class="swiper-scrollbar"></div>
            </div>
        </div>
    </section>
    <section class="relative">
        <img class="absolute w-80 sm:w-120 lg:w-144 3xl:w-160 4xl:w-176 5xl:w-196 left-0 -ml-6 md:ml-12 lg:ml-24 3xl:ml-36 4xl:ml-64" src="{% static '/img/temporaryStorage/spot_4.png' %}" alt="">
    </section>
    <section class="relative z-10 flex flex-col w-full md:px-16 xl:px-32 2xl:px-64 4xl:px-96 5xl:px-120 mt-4 md:mt-6 4xl:mt-10">
        <div class="FlexCol w-full h-auto">
            <div class="relative FlexCol_ w-full lg:w-120 xl:w-144 h-min mt-auto mb-0 lg:mb-20">
                <div class="mb-16 sm:mb-12 mx-auto opacity-0 sm:hidden">
                    <div class="ml-12 text-2xl font-medium whitespace-nowrap" style="font-family: 'Roboto Mono', monospace;">TOP rating</div>
                    <div class="mt-6 ml-24 text-2xl font-medium whitespace-nowrap" style="font-family: 'Roboto Mono', monospace;">in category</div>
                </div>
                <div class="absolute left-0 flex sm:block lg:static mb-12 mx-auto">
                    <div class="ml-2 sm:ml-12 text-2xl font-medium whitespace-nowrap" style="font-family: 'Roboto Mono', monospace;">TOP rating</div>
                    <div class="sm:mt-6 ml-2 sm:ml-24 text-2xl font-medium whitespace-nowrap" style="font-family: 'Roboto Mono', monospace;">in category</div>
                </div>
                <div class="absolute TransporentClass lg:static flex mt-10 sm:mt-0 ml-2 sm:ml-5 sm:ml-0 mx-auto">
                    <div class="h-20 xl:h-28">
                        <a class="flex flex-col bg-white w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 rounded-full" href="javascript:void(0);">
                            <div class="relative w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 bg-center bg-[url('{% static '/img/temporaryStorage/futbolka.png' %}')] bg-[length:80%] bg-no-repeat"> </div>
                        </a>
                        <div class="pl-2">футболки</div>
                    </div>
                    <div class="h-20 xl:h-28 ml-3">
                        <a class="flex flex-col bg-white w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 rounded-full" href="javascript:void(0);">
                            <div class="relative w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 bg-center bg-[url('{% static '/img/temporaryStorage/platya.png' %}')] bg-[length:80%] bg-no-repeat"> </div>
                        </a>
                        <div class="pl-2">платья</div>
                    </div>
                    <div class="h-20 xl:h-28 ml-3">
                        <a class="flex flex-col bg-white w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 rounded-full" href="javascript:void(0);">
                            <div class="relative w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 bg-center bg-[url('{% static '/img/temporaryStorage/rubashka.png' %}')] bg-[length:80%] bg-no-repeat"> </div>
                        </a>
                        <div class="pl-2">рубашки</div>
                    </div>
                    <div class="h-20 xl:h-28 ml-3">
                        <a class="flex flex-col bg-white w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 rounded-full" href="javascript:void(0);">
                            <div class="relative w-16 md:w-24 lg:w-16 h-16 md:h-24 lg:h-16 xl:w-24 xl:h-24 bg-center bg-[url('{% static '/img/temporaryStorage/sport-kostum.png' %}')] bg-[length:80%] bg-no-repeat"> </div>
                        </a>
                        <div class="pl-2">с.костюмы</div>
                    </div>
                </div>
            </div>
            <div class="w-full lg:w-[calc(100%-30rem)] xl:w-[calc(100%-36rem)] swiper TopRatingSwiper sm:rounded-3xl px-2 sm:px-5 sm:px-0">
                <div class="swiper-wrapper mb-10">
                    {% for prod in topRatedCategory %}
                    <div class="swiper-slide">
                        <div class="relative overflow-hidden flex flex-col bg-white rounded-3xl shadow-[-5px_7px_17.9px_-4px_rgba(0,0,0,0.25)]">
                            <div id="0informationIco_{{prod.id}}" class="absolute right-0 top-0 w-7 2xl:w-8 w-7 2xl:h-8 mt-2 mr-2 bg-black text-xl 2xl:text-2xl font-medium text-center text-white border-solid border-2 border-white rounded-full transition-all duration-300 ease-in-out" style="z-index: 1000; cursor: pointer;">
                                <div id="0informationPin_{{prod.id}}" class="-mt-1">i</div>
                            </div>
                            <div id="0informationPanel_{{prod.id}}" class="absolute w-full h-full px-2 opacity-0 hidden transition-all duration-300 ease-in-out" style="z-index: 1001;">
                                <div class="relative w-full h-full text-white">
                                    <div class="relative w-full h-8 border-solid border-b-2 border-white">
                                        <div class="absolute left-0 w-min text-xl 3xl:text-2xl font-black" style="font-family: 'Roboto Mono', monospace; white-space: nowrap;">{{prod.name}}</div>
                                        <a id="0CloseInfPanel_{{prod.id}}" class="absolute right-0" href="javascript:void(0);" style="margin-top: -2px; margin-right: -6px;">
                                            <svg class="crossmark addClass" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                                <circle class="crossmark__circle addClass" fill="none" />
                                                <path class="cross__path cross__path--right addClass" fill="none" d="M16,16 l20,20" stroke-width="3" />
                                                <path class="cross__path cross__path--left addClass" fill="none" d="M16,36 l20,-20" stroke-width="3" /> </svg>
                                        </a>
                                    </div>
                                    <div class="text-base 2xl:text-lg 3xl:text-xl">
                                        <div>- категория: {{prod.Categories}}</div>
                                        <div>- цвет: {{prod.Color}}</div>
                                        <div class="flex">- размер: {% for i in prod.sizes_set.all %}
                                            <div class="mx-1 text-lg">{{i.name}}</div> {% endfor %} </div>
                                        <div>- цена: {{prod.price}}₽</div>
                                    </div>
                                    <a href="#" class="group absolute bottom-0 w-full mb-2 3xl:mb-4">
                                        <button class="flex w-full h-10 3xl:h-12 hover:bg-black hover:text-white bg-white text-black font-black text-xl lg:text-2xl 3xl:text-3xl border-solid border-2 border-white transition-all duration-200 ease-in-out" style="font-family: 'Roboto Mono', monospace; white-space: nowrap;">
                                            <div class="flex mx-auto mt-0 3xl:mt-1">Buy
                                                <svg class="w-6 lg:w-7 h-6 lg:h-7 3xl:w-8 3xl:h-8 mt-1 ml-2" version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">
                                                    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" class="fill-black group-hover:fill-white transition-all duration-200 ease-in-out" stroke="none"><path d="M1883 4793 c-21 -11 -218 -250 -618 -749 l-587 -734 -279 0 c-261 0 -282 -1 -319 -20 -70 -36 -80 -70 -80 -280 0 -210 10 -244 80 -280 39 -20 53 -20 2480 -20 2427 0 2441 0 2480 20 70 36 80 70 80 280 0 210 -10 244 -80 280 -37 19 -58 20 -319 20 l-279 0 -587 734 c-440 550 -595 737 -621 750 -125 59 -261 -75 -198 -196 9 -17 240 -311 515 -654 274 -343 499 -626 499 -629 0 -3 -670 -5 -1490 -5 -820 0 -1490 2 -1490 5 0 3 225 286 499 629 275 343 506 637 515 654 63 122 -77 257 -201 195z" /><path d="M340 2405 c0 -21 564 -1979 580 -2012 13 -30 31 -48 59 -63 40 -20 51 -20 1581 -20 1530 0 1541 0 1581 20 28 15 46 33 59 63 16 33 580 1991 580 2012 0 3 -999 5 -2220 5 -1221 0 -2220 -2 -2220 -5z m1329 -322 c14 -11 34 -33 43 -49 19 -32 168 -901 168 -977 0 -148 -197 -199 -272 -71 -19 32 -168 901 -168 977 0 115 138 187 229 120z m961 7 c26 -13 47 -34 60 -60 19 -38 20 -58 20 -520 0 -462 -1 -482 -20 -520 -23 -45 -80 -80 -130 -80 -50 0 -107 35 -130 80 -19 38 -20 57 -20 522 1 543 -1 528 76 574 48 29 92 30 144 4z m980 2 c49 -24 80 -75 80 -129 0 -76 -149 -945 -168 -977 -75 -128 -272 -77 -272 71 0 64 148 940 164 971 38 74 122 101 196 64z" /> </g>
                                                </svg>
                                            </div>
                                        </button>
                                    </a>
                                </div>
                            </div>
                            <a class="relative overflow-hidden" href="detail-page/{{prod.unique_id}}"> 
                                <img id="0imgSource_{{prod.id}}" class="imgSource_cls h-auto mx-auto rounded-3xl" src="{{prod.image.url}}">
                                <div id="0magnifier_{{prod.id}}" class="magnifier_cls w-36 3xl:w-44 h-56 3xl:h-64">
                                    <div class="absolute w-full h-full bg-white bg-opacity-50" style="z-index: 1000;"></div>
                                </div>
                            </a>
                            <div class="flex flex-col ml-2 xl:ml-6 my-2">
                                <div class="text-lg 3xl:text-xl text-black font-black text-opacity-30 whitespace-nowrap tracking-[.25em]" style="font-family: 'Roboto Mono', monospace;">{{prod.Categories}}</div>
                                <div class="text-2xl 3xl:text-3xl text-black font-black tracking-[.25em]" style="font-family: 'Roboto Mono', monospace;">{{prod.name}}</div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="swiper-scrollbarT"></div>
            </div>
        </div>
    </section>
    <section class="relative z-10 flex flex-col w-full md:px-16 xl:px-32 2xl:px-64 4xl:px-96 5xl:px-120 4xl:-mt-4">
        <div class="w-full text-base lg:text-lg xl:text-xl 3xl:text-2xl font-black text-white p-2 xl:p-4 bg-[url('{% static '/img/temporaryStorage/17.png' %}')] bg-[length:20%]" style="text-shadow: 4px 0 #000, -4px 0 #000, 0 4px #000, 0 -4px #000, 2px 2px #000, -2px -2px #000, 2px -2px #000, -2px 2px #000;"> *Используйте промокод "YANVARMOROZ" и получите скидку в размере 15%* </div>
    </section>
    <section class="relative z-10 flex flex-col w-full md:px-16 xl:px-32 2xl:px-64 4xl:px-96 5xl:px-120 -mb-6 sm:-mb-0 sm:mt-4 md:mt-6 4xl:mt-10">
        <div class="flex flex-col w-full px-2 sm:px-4 md:px-8 3xl:px-16 py-2 md:py-5" style="box-shadow: 0px 0px 32.6px -11px rgba(0, 0, 0, 0.25) inset;">
            <div class="text-2xl font-black" style="font-family: 'Roboto Mono', monospace;">#Our Catalog („• ᴗ •„) </div>
            <div x-on:click="infPanelNew = !infPanelNew, darkBG = !darkBG" class="md:hidden flex flex-col opacity-40 w-full mt-2 py-2 bg-white" style="cursor: pointer; box-shadow: 0px 4px 11.9px 1px rgba(0, 0, 0, 0.40);">
                <div class="w-12 mx-auto border-b-2 border-solid border-black"></div>
                <div class="w-12 mx-auto mt-1 border-b-2 border-solid border-black"></div>
            </div>
            <div x-show="darkBG" class="sm:hidden w-screen h-screen fixed top-0 bg-black bg-opacity-20 -ml-2" style="z-index: 100005;"></div>
            <div x-show="infPanelNew" x-data="transitions" x-bind="CatalogTransition" class="bg-white fixed sm:static bottom-0 FlexWrap w-full sm:w-auto h-96 sm:h-auto overflow-y-auto mt-4 text-2xl -ml-2 py-4 sm:py-0 px-2 sm:px-0" style="z-index: 100006;">
                <div x-on:click="infPanelNew = !infPanelNew, darkBG = false" class="md:hidden flex flex-col opacity-40 w-full py-2 bg-white" style="cursor: pointer; box-shadow: 0px 4px 11.9px 1px rgba(0, 0, 0, 0.40);">
                    <div class="w-12 mx-auto border-b-2 border-solid border-black"></div>
                    <div class="w-12 mx-auto mt-1 border-b-2 border-solid border-black"></div>
                </div>
                <div class="group mt-2 sm:mx-2 w-full sm:w-auto" style="cursor: pointer;" :aria-expanded="filterCategory_ ? 'true' : 'false'" :class="{ 'active': filterCategory_ }">
                    <div x-on:click="filterCategory_ = !filterCategory_" class="flex px-2 py-1 border-2 border-black border-solid group-hover:bg-black group-hover:text-white transition-all duration-300 ease-in-out">
                        <div class="-mt-1  tracking-[.15em]">категория</div>
                        <div class="ml-auto mr-2 sm:mr-0 sm:ml-4" style="margin-top: 2px;">
                            <svg class="w-5 h-5" version="1.0" xmlns="http://www.w3.org/2000/svg" width="366.000000pt" height="366.000000pt" viewBox="0 0 366.000000 366.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,366.000000) scale(0.100000,-0.100000)" class="group-hover:fill-white fill-black" stroke="none">
                                    <path d="M1061 2469 c-141 -28 -250 -188 -222 -326 6 -30 18 -70 28 -91 10 -20 192 -217 409 -443 342 -354 399 -409 446 -429 74 -32 128 -36 201 -15 60 17 68 24 252 209 105 105 288 293 408 419 245 256 260 279 261 392 1 119 -62 217 -173 269 -45 21 -56 21 -806 23 -418 0 -780 -3 -804 -8z m1513 -275 c5 -12 -25 -49 -102 -128 -59 -61 -224 -231 -366 -378 -142 -148 -262 -268 -266 -268 -4 0 -173 171 -374 381 -296 308 -364 384 -355 395 10 12 128 14 734 14 660 0 723 -1 729 -16z" /> </g>
                            </svg>
                        </div>
                    </div>
                    <div x-show="filterCategory_" @click.outside="filterCategory_ = false" x-data="transitions" x-bind="CatalogTransition" class="sm:absolute w-full sm:w-auto" style="z-index: 1002;">
                        <div class="relative w-full sm:min-w-[190px]">
                            <ul class="text-white text-lg xl:text-xl w-full" style="font-family: 'Roboto Mono', monospace;">
                                <form class="check_filter" method="GET">
                                    {% for itemSettings in filterCategory %}
                                    <li class="flex relative h-10 xl:h-12 bg-gray-100 text-black border-2 border-solid border-white hover:bg-gray-200 hover:border-gray-200 transition-all duration-300 ease-in-out px-2 py-1">
                                        <div class="mr-5">{{itemSettings.name}}</div>
                                        <div class="ml-auto">
                                            <input id="{{itemSettings.name}}" name="Categories" value="{{itemSettings.id}}" type="checkbox"  />
                                        </div>
                                    </li>
                                    {% endfor %} 
                                    <input type="submit" class="w-full bg-black text-white py-1 mt-2 hover:bg-white hover:text-black border-2 border-black border-solid transition-all duration-200 ease-in-out" value="Применить">
                                </form>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="group mt-2 sm:mx-2 w-full sm:w-auto" style="cursor: pointer;" :aria-expanded="filterMaterial_ ? 'true' : 'false'" :class="{ 'active': filterMaterial_ }">
                    <div x-on:click="filterMaterial_ = !filterMaterial_" class="flex px-2 py-1 border-2 border-black border-solid group-hover:bg-black group-hover:text-white transition-all duration-300 ease-in-out">
                        <div class="-mt-1 tracking-[.15em]">материал</div>
                        <div class="ml-auto mr-2 sm:mr-0 sm:ml-4" style="margin-top: 2px;">
                            <svg class="w-5 h-5" version="1.0" xmlns="http://www.w3.org/2000/svg" width="366.000000pt" height="366.000000pt" viewBox="0 0 366.000000 366.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,366.000000) scale(0.100000,-0.100000)" class="group-hover:fill-white fill-black" stroke="none">
                                    <path d="M1061 2469 c-141 -28 -250 -188 -222 -326 6 -30 18 -70 28 -91 10 -20 192 -217 409 -443 342 -354 399 -409 446 -429 74 -32 128 -36 201 -15 60 17 68 24 252 209 105 105 288 293 408 419 245 256 260 279 261 392 1 119 -62 217 -173 269 -45 21 -56 21 -806 23 -418 0 -780 -3 -804 -8z m1513 -275 c5 -12 -25 -49 -102 -128 -59 -61 -224 -231 -366 -378 -142 -148 -262 -268 -266 -268 -4 0 -173 171 -374 381 -296 308 -364 384 -355 395 10 12 128 14 734 14 660 0 723 -1 729 -16z" /> </g>
                            </svg>
                        </div>
                    </div>
                    <div x-show="filterMaterial_" @click.outside="filterMaterial_ = false" x-data="transitions" x-bind="CatalogTransition" class="sm:absolute w-full sm:w-auto" style="z-index: 1002;">
                        <div class="relative w-full sm:min-w-[190px]">
                            <ul class="text-white text-lg xl:text-xl w-full" style="font-family: 'Roboto Mono', monospace;">
                                <form class="check_filter" method="GET">
                                    {% for itemSettings in filterMaterial %}
                                    <li class="flex relative h-10 xl:h-12 bg-gray-100 text-black border-2 border-solid border-white hover:bg-gray-200 hover:border-gray-200 transition-all duration-300 ease-in-out px-2 py-1">
                                        <div class="mr-5">{{itemSettings.name}}</div>
                                        <div class="ml-auto">
                                            <input id="{{itemSettings.name}}" name="stuff" value="{{itemSettings.id}}" type="checkbox"  />
                                        </div>
                                    </li>
                                    {% endfor %} 
                                    <input type="submit" class="w-full bg-black text-white py-1 mt-2 hover:bg-white hover:text-black border-2 border-black border-solid transition-all duration-200 ease-in-out" value="Применить">
                                </form>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="group mt-2 sm:mx-2 w-full sm:w-auto" style="cursor: pointer;" :aria-expanded="filterPrice_ ? 'true' : 'false'" :class="{ 'active': filterPrice_ }">
                    <div x-on:click="filterPrice_ = !filterPrice_" class="flex px-2 py-1 border-2 border-black border-solid group-hover:bg-black group-hover:text-white transition-all duration-300 ease-in-out">
                        <div class="-mt-1 tracking-[.15em]">цена</div>
                        <div class="ml-auto mr-2 sm:mr-0 sm:ml-4" style="margin-top: 2px;">
                            <svg class="w-5 h-5" version="1.0" xmlns="http://www.w3.org/2000/svg" width="366.000000pt" height="366.000000pt" viewBox="0 0 366.000000 366.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,366.000000) scale(0.100000,-0.100000)" class="group-hover:fill-white fill-black" stroke="none">
                                    <path d="M1061 2469 c-141 -28 -250 -188 -222 -326 6 -30 18 -70 28 -91 10 -20 192 -217 409 -443 342 -354 399 -409 446 -429 74 -32 128 -36 201 -15 60 17 68 24 252 209 105 105 288 293 408 419 245 256 260 279 261 392 1 119 -62 217 -173 269 -45 21 -56 21 -806 23 -418 0 -780 -3 -804 -8z m1513 -275 c5 -12 -25 -49 -102 -128 -59 -61 -224 -231 -366 -378 -142 -148 -262 -268 -266 -268 -4 0 -173 171 -374 381 -296 308 -364 384 -355 395 10 12 128 14 734 14 660 0 723 -1 729 -16z" /> </g>
                            </svg>
                        </div>
                    </div>
                    <div x-show="filterPrice_" @click.outside="filterPrice_ = false" x-data="transitions" x-bind="CatalogTransition" class="sm:absolute w-full sm:w-auto bg-white p-2 md:p-4" style="z-index: 1002;">
                        <div x-data="range()" x-init="mintrigger(); maxtrigger()" class="relative max-w-xl w-full sm:min-w-[190px] mt-2">
                            <div>
                                <input type="range" step="10" x-bind:min="min" x-bind:max="max" x-on:input="mintrigger" x-model="minprice" class="absolute pointer-events-none appearance-none z-20 h-1 w-full opacity-0 cursor-pointer">
                                <input type="range" step="10" x-bind:min="min" x-bind:max="max" x-on:input="maxtrigger" x-model="maxprice" class="absolute pointer-events-none appearance-none z-20 h-1 w-full opacity-0 cursor-pointer">
                                <div class="relative z-10 h-2">
                                    <div class="absolute z-10 left-0 right-0 bottom-0 top-0 rounded-md bg-gray-200"></div>
                                    <div class="absolute z-20 top-0 bottom-0 rounded-md bg-gray-400" x-bind:style="'right:'+maxthumb+'%; left:'+minthumb+'%'"></div>
                                    <div class="absolute z-30 w-4 h-4 top-0 left-0 bg-gray-200 rounded-full -mt-1 -ml-2" x-bind:style="'left: '+minthumb+'%'"></div>
                                    <div class="absolute z-30 w-4 h-4 top-0 right-0 bg-gray-200 rounded-full -mt-1 -mr-2" x-bind:style="'right: '+maxthumb+'%'"></div>
                                </div>
                            </div>
                            <div class="w-full flex items-center justify-between pt-3 space-x-4 text-sm text-gray-700">
                                <form class="w-full check_filter" method="GET">
                                    <div class="flex">
                                        <div class="flex flex-col"> Мин. цена
                                            <input id="min_price" name="min_price" type="text" maxlength="5" x-on:input.debounce="mintrigger" x-model="minprice" wire:model.debounce.300="minPrice" class="bg-gray-100 w-24 px-1 py-1 text-left focus:outline-none border-solid border-b-2 border-gray-300" value="0"> </div>
                                        <div class="pt-6 mx-2"> — </div>
                                        <div class="flex flex-col"> Макс. цена
                                            <input id="max_price" name="max_price" type="text" maxlength="5" x-on:input.debounce.300="maxtrigger" x-model="maxprice" wire:model.debounce="maxPrice" class="bg-gray-100 w-24 px-1 py-1 text-left focus:outline-none border-solid border-b-2 border-gray-300" value="10000"> </div>
                                    </div>
                                    <input type="submit" class="w-full bg-black text-white py-1 mt-2 hover:bg-white hover:text-black border-2 border-black border-solid transition-all duration-200 ease-in-out" value="Применить">
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="group mt-2 sm:mx-2 w-full sm:w-auto" style="cursor: pointer;" :aria-expanded="filterSize_ ? 'true' : 'false'" :class="{ 'active': filterSize_ }">
                    <div x-on:click="filterSize_ = !filterSize_" class="flex px-2 py-1 border-2 border-black border-solid group-hover:bg-black group-hover:text-white transition-all duration-300 ease-in-out">
                        <div class="-mt-1 tracking-[.15em]">размер</div>
                        <div class="ml-auto mr-2 sm:mr-0 sm:ml-4" style="margin-top: 2px;">
                            <svg class="w-5 h-5" version="1.0" xmlns="http://www.w3.org/2000/svg" width="366.000000pt" height="366.000000pt" viewBox="0 0 366.000000 366.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,366.000000) scale(0.100000,-0.100000)" class="group-hover:fill-white fill-black" stroke="none">
                                    <path d="M1061 2469 c-141 -28 -250 -188 -222 -326 6 -30 18 -70 28 -91 10 -20 192 -217 409 -443 342 -354 399 -409 446 -429 74 -32 128 -36 201 -15 60 17 68 24 252 209 105 105 288 293 408 419 245 256 260 279 261 392 1 119 -62 217 -173 269 -45 21 -56 21 -806 23 -418 0 -780 -3 -804 -8z m1513 -275 c5 -12 -25 -49 -102 -128 -59 -61 -224 -231 -366 -378 -142 -148 -262 -268 -266 -268 -4 0 -173 171 -374 381 -296 308 -364 384 -355 395 10 12 128 14 734 14 660 0 723 -1 729 -16z" /> </g>
                            </svg>
                        </div>
                    </div>
                    <div x-show="filterSize_" @click.outside="filterSize_ = false" x-data="transitions" x-bind="CatalogTransition" class="sm:absolute w-full sm:w-auto" style="z-index: 1002;">
                        <div class="relative w-full sm:min-w-[190px]">
                            <ul class="text-white text-lg xl:text-xl w-full" style="font-family: 'Roboto Mono', monospace;">
                                <form class="check_filter" method="GET">
                                    {% for itemSettings in filterSize %}
                                    <li class="flex relative h-10 xl:h-12 bg-gray-100 text-black border-2 border-solid border-white hover:bg-gray-200 hover:border-gray-200 transition-all duration-300 ease-in-out px-2 py-1">
                                        <div class="mr-5">{{itemSettings.name}}</div>
                                        <div class="ml-auto">
                                            <input id="{{itemSettings.name}}" name="sizes" value="{{itemSettings.id}}" type="checkbox"  />
                                        </div>
                                    </li>
                                    {% endfor %} 
                                    <input type="submit" class="w-full bg-black text-white py-1 mt-2 hover:bg-white hover:text-black border-2 border-black border-solid transition-all duration-200 ease-in-out" value="Применить">
                                </form>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="group mt-2 sm:mx-2 w-full sm:w-auto" style="cursor: pointer;" :aria-expanded="filterColor_ ? 'true' : 'false'" :class="{ 'active': filterColor_ }">
                    <div x-on:click="filterColor_ = !filterColor_" class="flex px-2 py-1 border-2 border-black border-solid group-hover:bg-black group-hover:text-white transition-all duration-300 ease-in-out">
                        <div class="-mt-1 tracking-[.15em]">цвет</div>
                        <div class="ml-auto mr-2 sm:mr-0 sm:ml-4" style="margin-top: 2px;">
                            <svg class="w-5 h-5" version="1.0" xmlns="http://www.w3.org/2000/svg" width="366.000000pt" height="366.000000pt" viewBox="0 0 366.000000 366.000000" preserveAspectRatio="xMidYMid meet">
                                <g transform="translate(0.000000,366.000000) scale(0.100000,-0.100000)" class="group-hover:fill-white fill-black" stroke="none">
                                    <path d="M1061 2469 c-141 -28 -250 -188 -222 -326 6 -30 18 -70 28 -91 10 -20 192 -217 409 -443 342 -354 399 -409 446 -429 74 -32 128 -36 201 -15 60 17 68 24 252 209 105 105 288 293 408 419 245 256 260 279 261 392 1 119 -62 217 -173 269 -45 21 -56 21 -806 23 -418 0 -780 -3 -804 -8z m1513 -275 c5 -12 -25 -49 -102 -128 -59 -61 -224 -231 -366 -378 -142 -148 -262 -268 -266 -268 -4 0 -173 171 -374 381 -296 308 -364 384 -355 395 10 12 128 14 734 14 660 0 723 -1 729 -16z" /> </g>
                            </svg>
                        </div>
                    </div>
                    <div x-show="filterColor_" @click.outside="filterColor_ = false" x-data="transitions" x-bind="CatalogTransition" class="sm:absolute w-full sm:w-auto" style="z-index: 1002;">
                        <div class="relative w-full sm:min-w-[190px]">
                            <ul class="text-white text-lg xl:text-xl w-full" style="font-family: 'Roboto Mono', monospace;">
                                <form class="check_filter" method="GET">
                                    {% for itemSettings in filterColor %}
                                    <li class="flex relative h-10 xl:h-12 bg-gray-100 text-black border-2 border-solid border-white hover:bg-gray-200 hover:border-gray-200 transition-all duration-300 ease-in-out px-2 py-1">
                                        <div class="mr-5">{{itemSettings.name}}</div>
                                        <div class="ml-auto">
                                            <input id="{{itemSettings.name}}" name="Color" value="{{itemSettings.id}}" type="checkbox"  />
                                        </div>
                                    </li>
                                    {% endfor %} 
                                    <input type="submit" class="w-full bg-black text-white py-1 mt-2 hover:bg-white hover:text-black border-2 border-black border-solid transition-all duration-200 ease-in-out" value="Применить">
                                </form>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div id="sorryMessage" class="flex flex-wrap w-full h-min bg-white sm:px-4 pb-4 px-2"> 

            </div>
            <div id="filteredData" class="flex flex-wrap w-full h-min sm:mt-6 pb-4 grid gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5">

            </div>
        </div>
    </section>
    {% block footer %}
        {% include 'blocks/footer.html' %}
    {% endblock %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        var $post = $(".addClass");
        $post.addClass("animateElement");    
    </script>
    <script>
        var swiper = new Swiper(".PromotionSwiper", {
            scrollbar: {
                el: ".swiper-scrollbar",
            },
            breakpoints: {
                0: {
                    slidesPerView: 1,
                    spaceBetween: 10,
                },
                550: {
                    slidesPerView: 2,
                    spaceBetween: 20,
                },
                900: {
                    slidesPerView: 3,
                    spaceBetween: 30,
                },
            },
        });
    </script>
    <script>
        var swiper = new Swiper(".TopRatingSwiper", {
            scrollbar: {
                el: ".swiper-scrollbarT",
            },
            breakpoints: {
                0: {
                    slidesPerView: 2,
                    spaceBetween: 10,
                },
                550: {
                    slidesPerView: 3,
                    spaceBetween: 20,
                },
                625: {
                    slidesPerView: 4,
                    spaceBetween: 30,
                },
                1050: {
                    slidesPerView: 3,
                    spaceBetween: 20,
                },
                1800: {
                    slidesPerView: 4,
                    spaceBetween: 30,
                },
            },
        });
    </script>
    <script>

        $.ajaxSetup({
              async: false
        });
    
        let array = [];
        var url_params = [];
        var selectedCategories;
        var check_item;
    
        let sizeArray_ = [];
        let imgArray_ = [];
    
        let min_price;
        let max_price;
    
        var productID;
    
        
    
            function filtration_objects(){
                var startTime = Date.now(); // Фиксируем время начала запроса
                document.getElementById('sorryMessage').innerHTML = "";
                document.getElementById('filteredData').innerHTML = "";
    
                selectedCategories = '';
    
                sizeArray_ = [];
                imgArray_ = [];
                event.preventDefault(); // Отменяем действие по умолчанию (перезагрузку страницы)
    
                min_price = document.getElementById('min_price').value
                max_price = document.getElementById('max_price').value
    
                selectedCategories += 'min_price=' + min_price + '&'
                selectedCategories += 'max_price=' + max_price + '&'
    
                document.querySelectorAll('input[name="Categories"]:checked').forEach(function(checkbox) {
                    selectedCategories += 'Categories=' + checkbox.value + '&'
                });
    
                document.querySelectorAll('input[name="Color"]:checked').forEach(function(checkbox) {
                    selectedCategories += 'Color=' + checkbox.value + '&'
                });
    
                document.querySelectorAll('input[name="sizes"]:checked').forEach(function(checkbox) {
                    selectedCategories += 'sizes=' + checkbox.value + '&'
                });
    
                document.querySelectorAll('input[name="stuff"]:checked').forEach(function(checkbox) {
                    selectedCategories += 'stuff=' + checkbox.value + '&'
                });
    
                // Обращаемся к серверу через AJAX
                var xhr = new XMLHttpRequest();
                xhr.open('GET', `/filter/?` + selectedCategories);
                xhr.onload = function() {
                    if (xhr.status == 200) {
                        var response = JSON.parse(xhr.responseText);
                        if(response.data.length == 0){
                            const message_item = ({
                                some_message,
                            }) => {
                                const template = document.createElement('section');
                                template.innerHTML = `
                                    <div class="flex flex-col mt-16 mb-16 mx-auto">${some_message} 
                                        <div class="flex mx-auto font-black text-3xl mt-6">
                                            (^
                                            <div class="relative">
                                                <div class="absolute pt-2-moving">-</div>
                                                <div class="opacity-0">-</div>
                                            </div>
                                            ^
                                            <div class="relative">
                                                <div class="absolute pt-2-moving">*</div>
                                                <div class="opacity-0">*</div>
                                            </div>
                                            )
                                        </div>
                                    </div>
                                `;
                                return template.children[0];
                            };
                            document.getElementById('sorryMessage').append(message_item({
                                some_message: 'Прошу прощения, но по данным фильтрам не найдёно ничего актуального ',
                            }));
                        }else{
                            for (let _category = 0; _category < response.data.length; _category++) {
                                sizeArray_.push(response.data[_category]['id'])
                                imgArray_.push(response.data[_category]['image'])
                                const create_item = ({
                                prod_categories,
                                prod_id,
                                prod_name,
                                prod_color,
                                prod_price,
                                prod_unique_id,
                                prod_image,
                                }) => {
                                    const template = document.createElement('section');
                                    template.innerHTML = `
                                    <div category="${prod_categories}" id="${prod_id}" class="relative overflow-hidden flex flex-col bg-white shadow-[-5px_7px_17.9px_-4px_rgba(0,0,0,0.25)]">
                                        <div id="1informationIco_${prod_id}" class="absolute right-0 top-0 w-7 2xl:w-8 w-7 2xl:h-8 mt-2 mr-2 bg-black text-xl 2xl:text-2xl font-medium text-center text-white border-solid border-2 border-white rounded-full transition-all duration-300 ease-in-out" style="z-index: 1000; cursor: pointer;">
                                            <div id="1informationPin_${prod_id}" class="-mt-1">i</div>
                                        </div>
                                        <div id="1informationPanel_${prod_id}" class="absolute w-full h-full px-2 opacity-0 hidden transition-all duration-300 ease-in-out" style="z-index: 1001;">
                                            <div class="relative w-full h-full text-white">
                                                <div class="relative w-full h-8 border-solid border-b-2 border-white">
                                                    <div class="absolute left-0 w-min text-xl 3xl:text-2xl font-black" style="font-family: 'Roboto Mono', monospace; white-space: nowrap;">${prod_name}</div>
                                                    <a id="1CloseInfPanel_${prod_id}" class="absolute right-0" href="javascript:void(0);" style="margin-top: -2px; margin-right: -6px;">
                                                        <svg class="crossmark addClass" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                                            <circle class="crossmark__circle addClass" fill="none" />
                                                            <path class="cross__path cross__path--right addClass" fill="none" d="M16,16 l20,20" stroke-width="3" />
                                                            <path class="cross__path cross__path--left addClass" fill="none" d="M16,36 l20,-20" stroke-width="3" /> </svg>
                                                    </a>
                                                </div>
                                                <div class="text-base 2xl:text-lg 3xl:text-xl">
                                                    <div>- категория: ${prod_categories}</div>
                                                    <div>- цвет: ${prod_color}</div>
                                                    <div id="ProdSize_${prod_id}" class="flex">- размер: 
    
                                                    </div>
                                                    <div>- цена: ${prod_price}₽</div>
                                                </div>
                                                <a href="#" class="group absolute bottom-0 w-full mb-2 3xl:mb-4">
                                                    <button class="flex w-full h-10 3xl:h-12 hover:bg-black hover:text-white bg-white text-black font-black text-xl lg:text-2xl 3xl:text-3xl border-solid border-2 border-white transition-all duration-200 ease-in-out" style="font-family: 'Roboto Mono', monospace; white-space: nowrap;">
                                                        <div class="flex mx-auto mt-0 3xl:mt-1">Buy
                                                            <svg class="w-6 lg:w-7 h-6 lg:h-7 3xl:w-8 3xl:h-8 mt-1 ml-2" version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">
                                                                <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" class="fill-black group-hover:fill-white transition-all duration-200 ease-in-out" stroke="none"><path d="M1883 4793 c-21 -11 -218 -250 -618 -749 l-587 -734 -279 0 c-261 0 -282 -1 -319 -20 -70 -36 -80 -70 -80 -280 0 -210 10 -244 80 -280 39 -20 53 -20 2480 -20 2427 0 2441 0 2480 20 70 36 80 70 80 280 0 210 -10 244 -80 280 -37 19 -58 20 -319 20 l-279 0 -587 734 c-440 550 -595 737 -621 750 -125 59 -261 -75 -198 -196 9 -17 240 -311 515 -654 274 -343 499 -626 499 -629 0 -3 -670 -5 -1490 -5 -820 0 -1490 2 -1490 5 0 3 225 286 499 629 275 343 506 637 515 654 63 122 -77 257 -201 195z" /><path d="M340 2405 c0 -21 564 -1979 580 -2012 13 -30 31 -48 59 -63 40 -20 51 -20 1581 -20 1530 0 1541 0 1581 20 28 15 46 33 59 63 16 33 580 1991 580 2012 0 3 -999 5 -2220 5 -1221 0 -2220 -2 -2220 -5z m1329 -322 c14 -11 34 -33 43 -49 19 -32 168 -901 168 -977 0 -148 -197 -199 -272 -71 -19 32 -168 901 -168 977 0 115 138 187 229 120z m961 7 c26 -13 47 -34 60 -60 19 -38 20 -58 20 -520 0 -462 -1 -482 -20 -520 -23 -45 -80 -80 -130 -80 -50 0 -107 35 -130 80 -19 38 -20 57 -20 522 1 543 -1 528 76 574 48 29 92 30 144 4z m980 2 c49 -24 80 -75 80 -129 0 -76 -149 -945 -168 -977 -75 -128 -272 -77 -272 71 0 64 148 940 164 971 38 74 122 101 196 64z" /> </g>
                                                            </svg>
                                                        </div>
                                                    </button>
                                                </a>
                                            </div>
                                        </div>
                                        <a class="relative overflow-hidden" href="detail-page/${prod_unique_id}"> 
                                            <img id="1imgSource_${prod_id}" class="imgSource_cls h-auto mx-auto" src="${prod_image}">
                                            <div id="1magnifier_${prod_id}" class="magnifier_cls w-36 3xl:w-44 h-56 3xl:h-64">
                                                <div class="absolute w-full h-full bg-white bg-opacity-50" style="z-index: 1000;"></div>
                                            </div>
                                        </a>
                                        <div class="flex flex-col ml-6 my-2">
                                            <div class="text-lg 2xl:text-xl text-black font-black text-opacity-30 whitespace-nowrap tracking-[.25em]" style="font-family: 'Roboto Mono', monospace;">${prod_categories}</div>
                                            <div class="text-2xl 3xl:text-3xl text-black font-black tracking-[.25em]" style="font-family: 'Roboto Mono', monospace;">${prod_name}</div>
                                        </div>
                                    </div>
                                    `;
                                    return template.children[0];
                                };
                                document.getElementById('filteredData').append(create_item({
                                    prod_categories: `${response.data[_category]['сategories']}`, 
                                    prod_id: `${response.data[_category]['id']}`, 
                                    prod_name: `${response.data[_category]['name']}`, 
                                    prod_color: `${response.data[_category]['color']}`, 
                                    prod_price: `${response.data[_category]['price']}`, 
                                    prod_unique_id: `${response.data[_category]['unique_id']}`, 
                                    prod_image: `${response.data[_category]['image']}`, 
                                }));
    
                                const dimension_data = response.data[_category]['dimension'];
                                productID = response.data[_category]['id']
                                dimension_data.forEach((item) => {
                                    const dimension_item = ({
                                    some_item,
                                    }) => {
                                        const template = document.createElement('section');
                                        template.innerHTML = `
                                            <div style="margin-right: 2px; margin-left: 2px;">${some_item}</div>
                                        `;
                                        return template.children[0];
                                    };
                                    document.getElementById('ProdSize_' + productID).append(dimension_item({
                                        some_item: item,
                                    }));
                                });
    
                            }
                            var endTime = Date.now(); // Фиксируем время окончания запроса
                            var executionTime = endTime - startTime; // Вычисляем время выполнения в миллисекундах
                            
                            console.log('Время выполнения AJAX-запроса: ' + executionTime + ' мс');
                        }
                        setHaram(sizeArray_);
                        setMagnifier(sizeArray_, imgArray_);
                        setClass();
                    }
                };
                xhr.send();
    
            }
    
            window.addEventListener('load', function() {
                filtration_objects();
            });
    
            document.querySelectorAll(".check_filter").forEach(elem => {
                elem.addEventListener('submit', function(event){
                    filtration_objects();
                });
            })
    
    </script>

    <script>
        var $post
        function setClass(){
            $post = $(".addClass");
            $post.addClass("animateElement"); 
        }   
    </script>
    <script>
        var containerWidth_ = 'moving-text-container-';
        var textWidth_ = 'moving-text-';
    
        var element_1;
        var element_2;
    
        if($(window).width() < 1280) {
    
            containerWidth_ = 'mob-moving-text-container-';
            textWidth_ = 'mob-moving-text-';
    
        }
        setTimeout(
                () => {
        {% for item in promoNews %}
    
            if($(window).width() < 1280) {
    
                element_1 = document.getElementById("moving-text-container-{{item.id|safe}}");
                element_1.id = "mob-moving-text-container-{{item.id|safe}}";
    
                element_2 = document.getElementById("moving-text-{{item.id|safe}}");
                element_2.id = "mob-moving-text-{{item.id|safe}}";
    
            }

            containerWidth = document.getElementById(containerWidth_ + '{{item.id|safe}}').offsetWidth;
            textWidth = document.getElementById(textWidth_ + '{{item.id|safe}}').offsetWidth;
            console.log(containerWidth, textWidth)
    
            if (textWidth > containerWidth) {
                document.getElementById(textWidth_ + '{{item.id|safe}}').classList.add('moving-text')
            }
    
        {% endfor %}
    },
                4 * 200
            );
    </script>
    <script>
        function range() {
            return {
                minprice: 0,
                maxprice: 10000,
                min: 0,
                max: 10000,
                minthumb: 0,
                maxthumb: 0,
                mintrigger() {
                    this.validation();
                    this.minprice = Math.min(this.minprice, this.maxprice - 500);
                    this.minthumb = ((this.minprice - this.min) / (this.max - this.min)) * 100;
                },
                maxtrigger() {
                    this.validation();
                    this.maxprice = Math.max(this.maxprice, this.minprice + 200);
                    this.maxthumb = 100 - (((this.maxprice - this.min) / (this.max - this.min)) * 100);
                },
                validation() {
                    if (/^\d*$/.test(this.minprice)) {
                        if (this.minprice > this.max) {
                          this.minprice = 9500;
                        }
                        if (this.minprice < this.min) {
                          this.minprice = this.min;
                        }
                    } else {
                        this.minprice = 0;
                    }
                    if (/^\d*$/.test(this.maxprice)) {
                        if (this.maxprice > this.max) {
                            this.maxprice = this.max;
                        }
                        if (this.maxprice < this.min) {
                            this.maxprice = 200;
                        }
                    } else {
                        this.maxprice = 10000;
                    }
                }
            }
        }
    </script>
    <script>
        let check = false; //true = mobile; false = not mobile
        (function(a) {
            if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
        })(navigator.userAgent || navigator.vendor || window.opera);

        function zoomer(IMG_src, MAG_fil, IMG_bg_src) {
            var elImg = document.getElementById(IMG_src)
            var elMag = document.getElementById(MAG_fil)
            var zoom = 1.3;
            elMag.style.backgroundImage = `url(${IMG_bg_src})`;
            var bw = 3;
            var w = elMag.offsetWidth / 2;
            var h = elMag.offsetHeight / 2;
            var showMag = (evt) => {
                elMag.style.backgroundSize = (elImg.width * zoom) + "px " + (elImg.height * zoom) + "px";
                var pos, x, y;
                evt.preventDefault();
                pos = getCursorPos(evt);
                x = pos.x;
                y = pos.y;
                if(x > elImg.width - (w / zoom)) {
                    x = elImg.width - (w / zoom);
                }
                if(x < w / zoom) {
                    x = w / zoom;
                }
                if(y > elImg.height - (h / zoom)) {
                    y = elImg.height - (h / zoom);
                }
                if(y < h / zoom) {
                    y = h / zoom;
                }

                function getCursorPos(e) {
                    var a, x = 0,
                        y = 0;
                    e = e || window.event;
                    a = elImg.getBoundingClientRect();
                    x = e.pageX - a.left;
                    y = e.pageY - a.top;
                    x = x - window.pageXOffset;
                    y = y - window.pageYOffset;
                    return {
                        x: x,
                        y: y
                    };
                }
                Object.assign(elMag.style, {
                    left: (x - w) + "px",
                    top: (y - h) + "px",
                    backgroundPosition: "-" + ((x * zoom) - w) + "px -" + ((y * zoom) - h) + "px",
                });
            };
            // Events:
            elImg.addEventListener("pointermove", showMag);
            elImg.addEventListener("pointerdown", showMag);
        }
        
        function setMagnifier(sizeArray, imgArray){
            if(check == false) {
                for(let i = 0; i < sizeArray.length; i++){
                    document.getElementById('1informationIco_' + sizeArray[i]).classList.add('hover:border-black', 'hover:bg-white', 'hover:text-black')
                    zoomer('1imgSource_' + sizeArray[i], '1magnifier_' + sizeArray[i], imgArray[i]) 
                }
            }else{
                for(let i = 0; i < sizeArray.length; i++){
                    document.getElementById('1imgSource_' + sizeArray[i]).classList.remove('imgSource_cls');
                }
            }
        }
        if(check == false) {
            {% for prod in topRatedCategory %}
                document.getElementById(`0informationIco_{{ prod.id }}`).classList.add('hover:border-black', 'hover:bg-white', 'hover:text-black')
                zoomer(`0imgSource_{{ prod.id }}`, `0magnifier_{{ prod.id }}`, `{{prod.image.url}}`) 
            {% endfor %}
        }else{
            {% for prod in topRatedCategory %}
                document.getElementById(`0imgSource_{{ prod.id }}`).classList.remove('imgSource_cls');
            {% endfor %}
        }
    </script>
    <script>
        function setHaram(sizeArray){
            for(let i = 0; i < sizeArray.length; i++){
                document.getElementById(`1informationIco_` + sizeArray[i]).addEventListener('click', function(event) {
                    document.getElementById(`1informationIco_` + sizeArray[i]).classList.remove('w-7', '2xl:w-8', 'h-7', '2xl:h-8', 'mt-2', 'mr-2');
                    document.getElementById(`1informationIco_` + sizeArray[i]).classList.add('w-196', 'h-196', '-mt-32', '-mr-56', 'opacity-40');
                    document.getElementById(`1informationPin_` + sizeArray[i]).classList.add('invisible');
                    document.getElementById(`1informationPanel_` + sizeArray[i]).classList.remove('hidden');
                    setTimeout(
                        () => {
                            document.getElementById(`1informationPanel_` + sizeArray[i]).classList.remove('opacity-0');
                        }, 3 * 100);
                });
                document.getElementById(`1CloseInfPanel_` + sizeArray[i]).addEventListener('click', function(event) {
                    document.getElementById(`1informationIco_` + sizeArray[i]).classList.add('w-7', '2xl:w-8', 'h-7', '2xl:h-8', 'mt-2', 'mr-2');
                    document.getElementById(`1informationIco_` + sizeArray[i]).classList.remove('w-196', 'h-196', '-mt-32', '-mr-56', 'opacity-40');
                    document.getElementById(`1informationPin_` + sizeArray[i]).classList.remove('invisible');
                    document.getElementById(`1informationPanel_` + sizeArray[i]).classList.add('hidden');
                    document.getElementById(`1informationPanel_` + sizeArray[i]).classList.add('opacity-0');
                }); 
            }
        }
        {% for prod in topRatedCategory %}
            document.getElementById(`0informationIco_{{ prod.id }}`).addEventListener('click', function(event) {
                document.getElementById(`0informationIco_{{ prod.id }}`).classList.remove('w-7', '2xl:w-8', 'h-7', '2xl:h-8', 'mt-2', 'mr-2');
                document.getElementById(`0informationIco_{{ prod.id }}`).classList.add('w-196', 'h-196', '-mt-32', '-mr-56', 'opacity-40');
                document.getElementById(`0informationPin_{{ prod.id }}`).classList.add('invisible');
                document.getElementById(`0informationPanel_{{ prod.id }}`).classList.remove('hidden');
                setTimeout(
                    () => {
                        document.getElementById(`0informationPanel_{{ prod.id }}`).classList.remove('opacity-0');
                    }, 3 * 100);
            });
            document.getElementById(`0CloseInfPanel_{{ prod.id }}`).addEventListener('click', function(event) {
                document.getElementById(`0informationIco_{{ prod.id }}`).classList.add('w-7', '2xl:w-8', 'h-7', '2xl:h-8', 'mt-2', 'mr-2');
                document.getElementById(`0informationIco_{{ prod.id }}`).classList.remove('w-196', 'h-196', '-mt-32', '-mr-56', 'opacity-40');
                document.getElementById(`0informationPin_{{ prod.id }}`).classList.remove('invisible');
                document.getElementById(`0informationPanel_{{ prod.id }}`).classList.add('hidden');
                document.getElementById(`0informationPanel_{{ prod.id }}`).classList.add('opacity-0');
            }); 
        {% endfor %}
    </script>
    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('transitions', () => ({
                CatalogTransition: {
                    ["x-transition:enter"]() {
                      return "transition ease-out duration-100";
                    },
                    ["x-transition:enter-start"]() {
                      return "opacity-0 -translate-y-6";
                    },
                    ["x-transition:enter-end"]() {
                      return "opacity-100 -translate-y-0";
                    },
                    ["x-transition:leave"]() {
                      return "transition ease-in duration-100";
                    },
                    ["x-transition:leave-start"]() {
                      return "opacity-100 -translate-y-0";
                    },
                    ["x-transition:leave-end"]() {
                      return "opacity-0 -translate-y-6";
                    },
                },
            }))
        })
    </script>
    <script>
        $(document).ready(function() {
            function adjustClass() {
                var windowWidth = $(window).width();
                if (windowWidth < 768) {
                    document.querySelectorAll('TransporentClass').removeClass('right-0').addClass('left-0');
                } else {
                    document.querySelectorAll('TransporentClass').removeClass('left-0').addClass('right-0');
                }
            }
    
            // Вызов функции при загрузке страницы
            adjustClass();
    
            // Вызов функции при изменении размера окна
            $(window).resize(function() {
                adjustClass();
            });
        });
    </script>
    <script>
        let height_set_;
        setTimeout(
            () => {
                height_set_ = document.getElementById('REFrightABSblock').offsetHeight
                document.getElementById('rightABSblock').setAttribute("style", `height:${height_set_}px`)
            }, 1 * 100);
        $(window).resize(function() {
            height_set_ = document.getElementById('REFrightABSblock').offsetHeight
            document.getElementById('rightABSblock').setAttribute("style", `height:${height_set_}px`)
        });
    </script>
</body>
</html>